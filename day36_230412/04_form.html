<!DOCTYPE html>
<html lang="kor">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/bootstrap.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css">
    <script src="../js/bootstrap.bundle.min.js"></script>
    <title>form</title>
    <style>
        div {
            margin: 100px;
        }

        /* body {
            background-image: url("../images/11.jpg");
            background-size: cover;
            background-position-y: 10%;
        } */
    </style>
</head>

<body>
    <!-- onsubmit : form에 작성한 정보를 제출(submit) 할 때 호출할 함수
                    return을 작성하여 함수 호출 결과가 true , false인지에
                    따라 제출을 제어할 수 있음-->
    <div>
        <form action="#" name="loginForm" method="post" onsubmit="return login_check()">
            <b>email:</b>
            <input type="text" class="form-control" name="memberEmail" id="member-email"><i class="bi bi-lock-fill"
                id="lock1"></i><br>
            <b id="email-result"></b><br>
            <b>password:</b>
            <input type="password" class="form-control" name="memberPassword" id="member-password"><i
                class="bi bi-lock-fill" id="lock2"></i><br>
            <b id="password-result"></b><br>
            <input type="submit" class="btn btn-outline-danger" value="login">
        </form>
    </div>
</body>
<script>
    const login_check = () => {
        // email , password중 하나라도 입력되지 않았으면
        // submit을 하지 않고 입력하지 않은 항목에 focus를 줌
        const email = document.getElementById("member-email");
        const password = document.getElementById("member-password");

        // if (email.value.length == 0) { // id로 접근
        // if (document.loginForm.memberEmail.value.length == 0) { // document 객체로 접근
        if (!email_check()) {
            // email 입력에 focus
            email.focus();
            return false;
        }
        //else if (password.value.length == 0) { // id로 접근
        // else if (document.loginForm.memberPassword.value.length == 0) { // document 객체로 접근
        if (!password_check()) {
            // password 입력에 focus
            password.focus();
            return false;
        } else {
            return true;
        }
    }
    const email_check = () => {
        const member = document.getElementById("member-email").value;
        const emailResult = document.getElementById("email-result");
        const lock = document.getElementById("lock1");
        emailResult.style.color = "red";
        lock.style.color = "red";
        lock.className = "bi bi-lock-fill"
        if (member.length == 0) {
            emailResult.innerHTML = "필수 입니다."
            return false;
        } else if (member.length < 5) {
            emailResult.innerHTML = "5글자 이상"
            return false;
        } else if (member.length >= 5) {
            lock.className = "bi bi-unlock-fill"
            lock.style.color = "green"
            emailResult.style.color = "green";
            emailResult.innerHTML = "좋아요"
            return true;
        }
    }

    const password_check = () => {
        const member = document.getElementById("member-password").value;
        const passwordResult = document.getElementById("password-result");
        const lock = document.getElementById("lock2");
        passwordResult.style.color = "red";
        lock.style.color = "red";
        lock.className = "bi bi-lock-fill"
        if (member.length == 0) {
            passwordResult.innerHTML = "필수 입니다."
            return false;
        } else if (member.length < 5) {
            passwordResult.innerHTML = "5글자 이상"
            return false;
        } else if (member.length >= 5) {
            lock.className = "bi bi-unlock-fill"
            lock.style.color = "green"
            passwordResult.style.color = "green";
            passwordResult.innerHTML = "좋아요"
            return true;
        }
    }
</script>

</html>