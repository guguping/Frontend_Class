<!DOCTYPE html>
<html lang="kor">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/bootstrap.css">
    <script src="../js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css">
    <title>member_made</title>
    <style>
        body {
            background: url(../images/11.jpg)no-repeat 50% 50% fixed;
            background-size: cover;

        }

        label {
            font-weight: bold;
            margin: 10px;
        }

        html {
            width: 100%;
            display: flex;
            justify-content: center;
            padding-top: 20px;
            padding-bottom: 20px;
            /* margin-top: 150px;
            width: 500px; */
        }

        #member-domain-id {
            width: 130px;
        }

        #but {
            margin: 50px;
        }

        h6 {
            font-weight: bold;

        }
    </style>
</head>

<body>
    <form action="/member_save" name="save_from" method="post" onsubmit="return save_check()">
        <div class=" container">
            <label for="member-id">아이디</label>
            <div id="id" class="input-group">
                <input type="text" class="form-control" name="memberId" id="member-id" onblur="memberId_check()">
                <span class=" input-group-text">@naver.com</span>
                <i class="bi bi-check-square-fill input-group-text" id="id-check"></i>
            </div>
            <h6 id="id-result"></h6>
            <label for="member-pw">비밀번호</label>
            <div id="pw" class="input-group">
                <input type="password" class="form-control" name="memberPw" id="member-pw" onblur="memberPw_check()">
                <i class="bi bi-lock-fill input-group-text" id="pw-lock"></i>
            </div>
            <h6 id="pw-result"></h6>
            <label for="pw-confirm">비밀번호 확인</label>
            <div id="pwc" class="input-group">
                <input type="password" class="form-control" name="memberPwc" id="pw-confirm" onblur="pwConfirm_check()">
                <i class="bi bi-lock-fill input-group-text" id="pwc-lock"></i>
            </div>
            <h6 id="pwc-result"></h6>
            <label for="member-name">이름</label>
            <div class="input-group">
                <input type="text" class="form-control" name="memberName" id="member-name" onblur="memberName_check()">
                <i class="bi bi-check-square-fill input-group-text" id="name-check"></i>
            </div>
            <h6 id="name-result"></h6>
            <label for="member-number">전화번호</label>
            <input type="text" class="form-control" name="memberNumber" id="member-number">
            <label for="member-domain-id">이메일</label>
            <div class="input-group">
                <input type="text" class="form-control" name="memberDomainId" id="member-domain-id">
                <span class="input-group-text">@</span>
                <input type="text" class="form-control" name="memberDomain" id="member-domain">
                <select id="domain" class="input-group-text">
                    <option value="">직접입력</option>
                    <option value="daum.net">다음</option>
                    <option value="gmail.com">구글</option>
                    <option value="kakao.com">카카오</option>
                </select>
            </div>
            <label for="member-gender">성별</label>
            <div class="input-group">
                <select name="memberGender" id="member-gender" class="form-control">
                    <option value="">선택 안함</option>
                    <option value="male">남자</option>
                    <option value="female">여자</option>
                </select>
            </div>
            <div id="but">
                <button class="form-control btn btn-danger">회원 가입</button>
            </div>
        </div>
    </form>
</body>
<script>
    const save_check = () => { // focus 부분
        const memberId = document.getElementById("member-id");
        const memberPw = document.getElementById("member-pw");
        const memberPwc = document.getElementById("pw-confirm");
        const memberName = document.getElementById("member-name");
        if (!memberId_check()) {
            memberId.focus();
            return false;
        } else if (!memberPw_check()) {
            memberPw.focus();
            return false;
        } else if (!pwConfirm_check()) {
            memberPwc.focus();
            return false;
        } else if (!memberName_check()) {
            memberName.focus();
            return false;
        } else {
            return true;
        }

    }
    const memberId_check = () => {
        const memberId = document.getElementById("member-id").value;
        const idResult = document.getElementById("id-result");
        const lock = document.getElementById("id-check");
        const expId = /^(?=.*[a-z])(?=.*\d)[a-z\d-_]{5,10}$/;
        idResult.style.color = "red";
        lock.style.color = "red";
        lock.className = "bi bi-check-square-fill input-group-text";

        if (memberId.length == 0) {
            idResult.innerHTML = "필수입력입니다";
            return false;
        } else if (!memberId.match(expId)) {
            idResult.innerHTML = "5~10자의 영문 소문자, 숫자와 특수기호(_),(-)만 사용 가능합니다."
            return false;
        } else {
            idResult.style.color = "green";
            lock.style.color = "green";
            idResult.innerHTML = "좋아요!"
            return true;
        }
    }
    const memberPw_check = () => {
        const memberPw = document.getElementById("member-pw").value;
        const pwResult = document.getElementById("pw-result");
        const lock = document.getElementById("pw-lock");
        const expPw = /^(?=.*[A-z])(?=.*\d)(?=.*[!#$-_])[A-z\d!#$-_]{6,18}$/;
        pwResult.style.color = "red";
        lock.style.color = "red";
        lock.className = "bi bi-lock-fill input-group-text";
        if (memberPw.length == 0) {
            pwResult.innerHTML = "필수입력입니다";
            return false;
        } else if (!memberPw.match(expPw)) {
            pwResult.innerHTML = "8~16자 영문 대 소문자, 숫자, 특수문자(!,#,$,-,_)를 사용하세요."
            return false;
        } else {
            lock.className = "bi bi-unlock-fill input-group-text"
            pwResult.style.color = "green";
            lock.style.color = "green";
            pwResult.innerHTML = "좋아요!"
            return true;
        }
    }
    const pwConfirm_check = () => {
        const memberPw = document.getElementById("member-pw").value;
        const memberPwc = document.getElementById("pw-confirm").value;
        const pwcResult = document.getElementById("pwc-result");
        const expPwc = /^(?=.*[A-z])(?=.*\d)(?=.*[!#$-_])[A-z\d!#$-_]{6,18}$/;
        const lock = document.getElementById("pwc-lock");
        pwcResult.style.color = "red";
        lock.style.color = "red";
        lock.className = "bi bi-lock-fill input-group-text";
        if (memberPwc.length == 0) {
            pwcResult.innerHTML = "필수입력입니다.";
            return false;
        } else if (memberPw != memberPwc) {
            pwcResult.innerHTML = "비밀번호가 일치하지 않습니다.";
            return false;
        } else if (memberPw == memberPwc) {
            lock.className = "bi bi-unlock-fill input-group-text";
            pwcResult.style.color = "green";
            lock.style.color = "green";
            pwcResult.innerHTML = "좋아요!";
            return true;
        }
    }
    const memberName_check = () => {
        const memberName = document.getElementById("member-name").value;
        const nameResult = document.getElementById("name-result");
        const lock = document.getElementById("name-check");
        nameResult.style.color = "red";
        lock.style.color = "red";
        lock.className = "bi bi-check-square-fill input-group-text";
        if (memberName.length == 0) {
            nameResult.innerHTML = "필수입력입니다.";
            return false;
        } else if (memberName.length < 2) {
            nameResult.innerHTML = "너무 짧습니다";
            return false;
        } else if (memberName.length >= 2) {
            nameResult.style.color = "green";
            lock.style.color = "green";
            nameResult.innerHTML = "좋아요!"
            return true;
        }
    }
</script>

</html>